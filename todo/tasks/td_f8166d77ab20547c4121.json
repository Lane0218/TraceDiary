{
  "task_uid": "td_f8166d77ab20547c4121",
  "display_id": "TD-SYNC-007",
  "id_prefix": "SYNC",
  "module_key": "6.5",
  "module_name": "同步与冲突解决",
  "module_label": "6.5 同步与冲突解决",
  "order": 31,
  "status": "DONE",
  "title": "修复 Gitee 默认分支与写入方法导致的同步失败，并补齐可暴露该问题的测试",
  "acceptance": "默认分支兼容 `master`；可配置分支；手动与自动上传可成功；测试可覆盖真实失败原因",
  "related_files": [
    "src/types/config.ts",
    "src/hooks/use-auth.ts",
    "src/components/auth/auth-modal.tsx",
    "src/pages/workspace.tsx",
    "src/pages/yearly-summary.tsx",
    "src/services/gitee.ts",
    "src/services/sync.ts",
    "src/services/__tests__/*",
    "src/hooks/__tests__/*",
    "scripts/e2e-smoke.sh"
  ],
  "test_record": "`npm run test:unit` 通过（37/37）；`npm run test:integration` 通过（29/29）；`npm run test:e2e` 通过；`npm run lint` 通过",
  "done_record": "2026-02-09 / b87ead4",
  "source": {
    "file": "TODO.md",
    "line": 70
  },
  "version": 1,
  "updated_at": "2026-02-21T14:31:06.652Z"
}
