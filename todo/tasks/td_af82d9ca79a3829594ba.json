{
  "task_uid": "td_af82d9ca79a3829594ba",
  "display_id": "TD-SYNC-035",
  "id_prefix": "SYNC",
  "module_key": "6.5",
  "module_name": "同步与冲突解决",
  "module_label": "6.5 同步与冲突解决",
  "order": 59,
  "status": "DONE",
  "title": "调整批量同步入口：工作区仅保留当前条目 pull/push，设置页承载 pull 全部 + push 全部",
  "acceptance": "日记页与年度总结页同步条仅保留 `pull`/`push` 两按钮并作用于当前条目；设置页新增高级同步区，提供 `pull 全部` 与 `push 全部`（含确认、进度与结果）；原有冲突与状态反馈链路不回退",
  "related_files": [
    "src/components/common/sync-control-bar.tsx",
    "src/components/common/bulk-sync-panel.tsx",
    "src/pages/diary.tsx",
    "src/pages/yearly-summary.tsx",
    "src/pages/settings.tsx",
    "src/index.css",
    "src/__tests__/integration/editor.integration.test.tsx",
    "src/__tests__/integration/bulk-sync.integration.test.tsx",
    "e2e/specs/bulk-pull-result-dialog.spec.ts",
    "e2e/specs/settings-bulk-sync.spec.ts"
  ],
  "test_record": "风险分级：高（同步入口迁移 + 新增批量上传链路）。已执行：`npm ci`（补齐当前 worktree 依赖）；`npm run lint`（通过）；`npm run test:unit`（95/95 通过）；`npm run test:integration`（81/81 通过，存在既有 act warning，不影响通过）；`npx playwright test e2e/specs/bulk-pull-result-dialog.spec.ts e2e/specs/settings-bulk-sync.spec.ts e2e/specs/manual-sync-busy-clear.spec.ts --project=chromium --retries=0`（3/3 通过）。未执行全量 `npm run test:e2e`（本任务未命中全量门禁，已执行与改动直接相关 E2E，且包含 @remote 链路）。",
  "done_record": "2026-02-23 / pending",
  "source": {
    "file": "TODO.md",
    "line": 98
  },
  "version": 3,
  "updated_at": "2026-02-23T03:49:30.000Z"
}
