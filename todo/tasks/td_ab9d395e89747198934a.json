{
  "task_uid": "td_ab9d395e89747198934a",
  "display_id": "TD-UI-039",
  "id_prefix": "UI",
  "module_key": "6.8",
  "module_name": "UI 体验优化",
  "module_label": "6.8 UI 体验优化",
  "order": 117,
  "status": "DONE",
  "title": "设置页去冗余并支持 ready 状态下直接编辑仓库/分支/Token",
  "acceptance": "设置页改为单层紧凑布局，移除解释性冗余文案与二级嵌套头；ready 状态可提交仓库/分支/Token 变更并即时校验生效；继续不提供“立即锁定”按钮",
  "related_files": [
    "src/pages/settings.tsx",
    "src/components/auth/auth-panel.tsx",
    "src/components/auth/auth-form-model.ts",
    "src/hooks/use-auth.ts",
    "src/hooks/__tests__/use-auth.test.tsx",
    "src/__tests__/integration/app.integration.test.tsx",
    "e2e/specs/settings-update.spec.ts",
    "TODO.md"
  ],
  "test_record": "风险分级：高；`npm run lint` 通过；`npm run test:unit` 通过（58/58）；`npm run test:integration` 通过（60/60）；`npx playwright test e2e/specs/auth-setup.spec.ts e2e/specs/auth-session.spec.ts e2e/specs/settings-update.spec.ts --project=chromium --retries=0` 首次失败（缺少 `.env.e2e`），执行 `bash /home/ljcwsl/.codex/skills/main-worktree-flow/scripts/worktree-flow.sh fix-e2e-env --repo /home/ljcwsl/0-code/TraceDiary --branch plan/settings-page-compact-editable --e2e-cmd \"npx playwright test e2e/specs/auth-setup.spec.ts e2e/specs/auth-session.spec.ts e2e/specs/settings-update.spec.ts --project=chromium --retries=0\"` 后发现新增 settings 用例失败，修复后重跑同命令通过（7/7）；未执行全量 `npm run test:e2e`（本任务未命中全量门禁）",
  "done_record": "2026-02-15 / 46fadd6",
  "source": {
    "file": "TODO.md",
    "line": 171
  },
  "version": 1,
  "updated_at": "2026-02-21T14:31:06.652Z"
}
