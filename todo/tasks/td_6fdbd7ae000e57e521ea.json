{
  "task_uid": "td_6fdbd7ae000e57e521ea",
  "display_id": "TD-SYNC-019",
  "id_prefix": "SYNC",
  "module_key": "6.5",
  "module_name": "同步与冲突解决",
  "module_label": "6.5 同步与冲突解决",
  "order": 43,
  "status": "DONE",
  "title": "修复手动上传后状态不收敛（自动上传悬挂导致长期 syncing）并补齐去重与超时回归测试",
  "acceptance": "手动上传成功后若触发同内容自动上传不应重复请求；自动上传悬挂时应在超时后退出 syncing 并给出可重试错误；状态可恢复并与远端结果一致",
  "related_files": [
    "src/hooks/use-sync.ts",
    "src/hooks/__tests__/use-sync.test.ts",
    "src/__tests__/integration/editor.integration.test.tsx",
    "e2e/specs/manual-sync-hang-guard.spec.ts",
    "e2e/specs/auto-sync-last-synced.spec.ts",
    "TODO.md"
  ],
  "test_record": "`npm run test:unit` 通过（43/43）；`npm run test:integration` 通过（43/43）；`npx playwright test e2e/specs/manual-sync-hang-guard.spec.ts --project=chromium --retries=0` 通过（1/1）；`npx playwright test e2e/specs/auto-sync-last-synced.spec.ts --project=chromium --retries=0` 通过（1/1）；`npm run test:e2e` 通过（20/20）",
  "done_record": "2026-02-10 / 4a20958",
  "source": {
    "file": "TODO.md",
    "line": 82
  },
  "version": 1,
  "updated_at": "2026-02-21T14:31:06.652Z"
}
