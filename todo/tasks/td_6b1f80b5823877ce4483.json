{
  "task_uid": "td_6b1f80b5823877ce4483",
  "display_id": "TD-AUTH-003",
  "id_prefix": "AUTH",
  "module_key": "6.13",
  "module_name": "游客模式与账号体系（v1.2）",
  "module_label": "6.13 游客模式与账号体系（v1.2）",
  "order": 175,
  "status": "DONE",
  "title": "支持本地有数据时随时切换游客模式",
  "acceptance": "本地已有配置/数据时仍可进入演示模式；可从演示模式一键回到“我的数据”并恢复既有认证流程；相关回归测试通过",
  "related_files": [
    "src/App.tsx",
    "src/components/common/app-header.tsx",
    "src/components/auth/auth-panel.tsx",
    "src/components/auth/auth-modal.tsx",
    "src/pages/diary.tsx",
    "src/pages/yearly-summary.tsx",
    "src/pages/insights.tsx",
    "src/__tests__/integration/app.integration.test.tsx",
    "src/__tests__/integration/editor.integration.test.tsx"
  ],
  "test_record": "风险分级：高（游客模式与认证状态链路）。已执行：`npm run lint` 通过；`npm run test:unit` 通过（95/95）；`npm run test:integration` 通过（97/97，含既有 `act(...)` warning）；`npm run test:e2e:fast` 通过（5/5）。额外定向验证：`npx vitest run --environment jsdom src/__tests__/integration/app.integration.test.tsx src/__tests__/integration/editor.integration.test.tsx` 通过（21/21）。",
  "done_record": "2026-02-24 / 97c577e",
  "source": {
    "file": "TODO.md",
    "line": 254
  },
  "version": 4,
  "updated_at": "2026-02-24T15:49:51.000Z"
}
